/*!  - v1.2.0
 * 
 * Copyright (c) 2017; * Licensed GPLv2+ */
jQuery(document).ready(function(a){"use strict";var b=a(document.body),c=function(a){return aepc_extend_args(a)},d=function(a,b){b?setTimeout(a,1e3*b):a()};aepc_pixel_events.standard_events&&a.each(aepc_pixel_events.standard_events,function(b,e){a.each(e,function(a,e){var f=function(){e.params?fbq("track",b,c(e.params)):fbq("track",b)};d(f,e.delay)})}),"undefined"!=typeof aepc_pixel_events.custom_events&&a.each(aepc_pixel_events.custom_events,function(b,e){a.each(e,function(a,e){var f=function(){fbq("trackCustom",b,c(e.params))};d(f,e.delay)})}),"undefined"!=typeof aepc_pixel_events.css_events&&a.each(aepc_pixel_events.css_events,function(b,d){a.each(d,function(d,e){a(b).on("click",function(){fbq(e.trackType,e.trackName,c(e.trackParams))})})}),"undefined"!=typeof aepc_pixel_events.link_clicks&&a.each(aepc_pixel_events.link_clicks,function(b,d){b=b.replace(/\*/g,"[^/]+"),a("a").filter(function(){var c=a(this).attr("href");return"undefined"!=typeof c&&c.match(new RegExp(b))}).on("click",function(b){a.each(d,function(a,b){fbq(b.trackType,b.trackName,c(b.trackParams))})})}),b.hasClass("woocommerce-page")&&(a("ul.products").on("click",".ajax_add_to_cart",function(b){if("no"===aepc_pixel.enable_addtocart)return b;var d=a(this),e=d.closest("li.product"),f=d.data("product_sku")?d.data("product_sku"):d.data("product_id");fbq("track","AddToCart",c({content_ids:[f],content_type:"product",content_name:e.find("h3").text(),content_category:e.find("span[data-content_category]").data("content_category"),value:parseFloat(e.find("span.amount").clone().children().remove().end().text()),currency:woocommerce_params.currency}))}).on("click",".add_to_wishlist, .wl-add-to",function(b){if("no"===aepc_pixel.enable_wishlist)return b;var d=a(this),e=d.closest("li.product"),f=d.data("product_sku")?d.data("product_sku"):d.data("product_id");fbq("track","AddToWishlist",c({content_ids:[f],content_type:"product",content_name:e.find("h3").text(),content_category:e.find("span[data-content_category]").data("content_category"),value:parseFloat(e.find("span.amount").clone().children().remove().end().text()),currency:woocommerce_params.currency}))}),a("div.product").on("click",".single_add_to_cart_button",function(a){"yes"===aepc_pixel.enable_addtocart&&"yes"===wc_add_to_cart_params.cart_redirect_after_add&&fbq("track","AddToCart",c(aepc_pixel_events.ViewContent))}).on("click",".add_to_wishlist, .wl-add-to",function(a){return"no"===aepc_pixel.enable_wishlist?a:void fbq("track","AddToWishlist",c(aepc_pixel_events.ViewContent))}),a("form.checkout").on("checkout_place_order",function(a){return"no"===aepc_pixel.enable_addpaymentinfo?a:(fbq("track","AddPaymentInfo",c({content_type:aepc_pixel_events.standard_events.InitiateCheckout[0].content_type,content_ids:aepc_pixel_events.standard_events.InitiateCheckout[0].content_ids,value:aepc_pixel_events.standard_events.InitiateCheckout[0].value,currency:aepc_pixel_events.standard_events.InitiateCheckout[0].currency})),!0)})),b.hasClass("edd-page")&&(a(".edd_download_purchase_form").on("click",".edd-add-to-cart",function(b){if("no"===aepc_pixel.enable_addtocart)return b;var d=a(this),e=d.closest("div.edd_download, article.type-download"),f=d.data("download-sku")?d.data("download-sku"):d.data("download-id"),g=e.find('meta[itemprop="priceCurrency"]').attr("content"),h=d.data("price"),i="yes"===d.data("variable-price");if(i){var j=a(".edd_price_options"),k=j.find('input[type="radio"]:checked'),l=k.closest("li");h=l.find('meta[itemprop="price"]').attr("content"),g=l.find('meta[itemprop="priceCurrency"]').attr("content")}fbq("track","AddToCart",c({content_ids:[f],content_type:"product",content_name:e.find('[itemprop="name"]').first().text(),content_category:d.data("download-categories"),value:parseFloat(h),currency:g}))}),a(".edd-checkout").on("click",'form#edd_purchase_form input[type="submit"]',function(a){return"no"===aepc_pixel.enable_addpaymentinfo?a:(fbq("track","AddPaymentInfo",c({content_type:aepc_pixel_events.standard_events.InitiateCheckout[0].content_type,content_ids:aepc_pixel_events.standard_events.InitiateCheckout[0].content_ids,value:aepc_pixel_events.standard_events.InitiateCheckout[0].value,currency:aepc_pixel_events.standard_events.InitiateCheckout[0].currency})),!0)}))});